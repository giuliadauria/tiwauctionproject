<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="ISO-8859-1">
		<title th:text="${auctionDetails.name}">Insert title here</title>
		<link rel="icon" href="https://image.flaticon.com/icons/png/512/783/783247.png">
	</head>
	<body>
		<h1 th:text="'auction for ' + ${auctionDetails.item.name} + ' by ' + ${auctionDetails.seller}"></h1>
		<p th:text="'Remaining time: ' + ${auctionDetails.remainingTime}"> </p>
		<table>
			<tbody>
				<tr>
					<td th:each="image : ${auctionDetails.item.pictures}"> 
						<img th:src="@{'/images/' + ${image.pictureUrl}}" th:width="256" th:height="192"> 
					</td>
				</tr>
			</tbody>
		</table>
		<p th:text="${auctionDetails.item.description}"> </p>
		<p th:text="'Initial price: ' + ${auctionDetails.initialPrice} + ' raise: ' + ${auctionDetails.raise}"> </p>
		<div th:if="${auctionDetails.seller} != ${session.user.username}">
			<p>Send a bid for this auction:</p>
			<form action="#" th:action="@{/CreateBid}" method="POST">
			<fieldset>
				<p>
					bid: <input type="number" step="0.01" name="bid" required />
				</p>
				<p>
					<input type="hidden" name="auctionId" th:value="${auctionDetails.auctionId}" />
				</p>
				<input type="submit" name="Add bid">
				<p th:if="${biderror} == 'true'"> A bid can't be lower than the highest bid plus the raise or lower than the initial price if you are first buyer </p>
			</fieldset>
			</form>
		</div> <br>
		<table border="1">
			<thead>
				<tr>
					<th> User </th>
					<th> Offer </th>
					<th> Date </th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="bid : ${auctionDetails.bidList}">
					<td th:text="${bid.username}"> </td>
					<td th:text="${bid.offer}"> </td>
					<td th:text="${bid.dateTime}"> </td>
				</tr>
			</tbody>
		</table>
	</body>
</html>